<div class="main-container">
  
  <header class="header">
    <h1>Hola, Â¿CÃ³mo te sientes?</h1>
    <p class="subtitle">Elige una emociÃ³n para recomendarte algo:</p>
  </header>

  <main class="content">
    
    <div class="mood-selector">
      <button (click)="filtrarPor('ansiedad')" [class.active]="filtroActual === 'ansiedad'" class="mood-btn ansiedad">
        ğŸ˜° <span>Ansiedad</span>
      </button>
      <button (click)="filtrarPor('dormir')" [class.active]="filtroActual === 'dormir'" class="mood-btn dormir">
        ğŸ˜´ <span>SueÃ±o</span>
      </button>
      <button (click)="filtrarPor('energia')" [class.active]="filtroActual === 'energia'" class="mood-btn energia">
        âš¡ <span>EnergÃ­a</span>
      </button>
      <button (click)="filtrarPor('todos')" [class.active]="filtroActual === 'todos'" class="mood-btn todos">
        ğŸ§˜ <span>Ver todo</span>
      </button>
    </div>

    <h2 class="section-title">
      {{ filtroActual === 'todos' ? 'Todas las meditaciones' : 'Recomendado para ti' }}
    </h2>
    
    <div class="meditaciones-lista">
      <div *ngFor="let meditacion of meditacionesVisibles" class="meditacion-item" [style.border-left-color]="meditacion.color">
        
     <button class="play-btn" (click)="reproducirMeditacion(meditacion)">
  <span class="play-icon">
    {{ meditacion.reproduciendo ? 'â¸' : 'â–¶' }}
  </span>
</button>
        
        <div class="meditacion-info">
          <p class="meditacion-titulo">{{ meditacion.titulo }}</p>
          <div class="meta-info">
            <span class="tag" [style.background-color]="meditacion.color">{{ meditacion.categoria }}</span>
            <span class="meditacion-duracion"> â€¢ {{ meditacion.duracion }} mins</span>
          </div>
        </div>

        <button class="fav-btn" (click)="toggleFavorito(meditacion)">
          {{ meditacion.esFavorito ? 'â¤ï¸' : 'ğŸ¤' }}
        </button>

      </div>

      <div *ngIf="meditacionesVisibles.length === 0" class="empty-state">
        <p>No hay meditaciones para esta categorÃ­a aÃºn.</p>
      </div>
    </div>
  </main>

  <button class="fab-sos" (click)="toggleSOS()">SOS</button>

  <div class="sos-overlay" *ngIf="modoSOS">
    <div class="breathing-container">
      <h2>Respira conmigo</h2>
      <div class="circle-animation"></div>
      <p class="instruction">Inhala... Exhala...</p>
      <button class="close-sos" (click)="toggleSOS()">Me siento mejor</button>
    </div>
  </div>

  <div class="spacer"></div>

  <nav class="bottom-nav">
    <a routerLink="/meditaciones" routerLinkActive="active" class="nav-item">
      <span class="nav-icon">ğŸ§˜</span> <span class="nav-label">Meditar</span>
    </a>
    <a routerLink="/rutinas" routerLinkActive="active" class="nav-item">
      <span class="nav-icon">ğŸƒ</span> <span class="nav-label">Rutinas</span>
    </a>
      <a routerLink="/agenda" routerLinkActive="active" class="nav-item">
      <span class="nav-icon">ğŸ“…</span> <span class="nav-label">Agenda</span>
    </a>
    <a routerLink="/perfil" routerLinkActive="active" class="nav-item">
      <span class="nav-icon">ğŸ‘¤</span> <span class="nav-label">Perfil</span>
    </a>
  </nav>

</div>